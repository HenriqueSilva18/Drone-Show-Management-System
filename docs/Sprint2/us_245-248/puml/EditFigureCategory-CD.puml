@startuml
skinparam packageStyle rectangle
skinparam shadowing false
skinparam linetype polyline
skinparam classAttributeIconSize 0

class FigureCategory {
  - String name
  - String description
  - LocalDateTime lastEditionDate
  + updateDescription(String): void
}

interface FigureCategoryRepository {
  + findByName(String): Optional<FigureCategory>
  + save(FigureCategory): FigureCategory
}

class JpaFigureCategoryRepository {
  + findByName(String): Optional<FigureCategory>
  + save(FigureCategory): FigureCategory
}

class InMemoryFigureCategoryRepository {
  + findByName(String): Optional<FigureCategory>
  + save(FigureCategory): FigureCategory
}

FigureCategoryRepository <|.. JpaFigureCategoryRepository
FigureCategoryRepository <|.. InMemoryFigureCategoryRepository

class FigureCategoryService {
  - FigureCategoryRepository repo
  - AuthorizationService authz

  + updateDescription(String, String): FigureCategory
}

class FigureCategoryController {
  - FigureCategoryService service

  + editCategoryDescription(String, String): FigureCategory
}

class EditFigureCategoryUI {
  - FigureCategoryController controller

  + doShow(): boolean
}

interface AuthorizationService {
  + ensureAuthenticatedUserHasAnyOf(String...): void
}

EditFigureCategoryUI --> FigureCategoryController
FigureCategoryController --> FigureCategoryService
FigureCategoryService --> FigureCategoryRepository
FigureCategoryService --> AuthorizationService
FigureCategoryService --> FigureCategory
@enduml
