@startuml
skinparam monochrome true
skinparam shadowing false
skinparam classAttributeIconSize 0
hide circle
hide methods

' Layout optimization
left to right direction

package "Aggregate Client " {

    ' Agregado Client (Aggregate Root)
    class Client <<AggregateRoot>> {
        ClientID: Id
        ClientName: Name
        ClientVAT: VAT
        ClientAddress: Address
        Representatives: List<Representative>
    }

    ' Value Objects do Client
    class Id <<(V, #007fff) ValueObject>> {
        value: String
    }

    class Name <<(V, #007fff) ValueObject>> {
        value: String
    }

    class VAT <<(V, #007fff) ValueObject>> {
        value: String
    }

    class Address <<(V, #007fff) ValueObject>> {
        value: String
    }

    ' Representante (Gestor do sistema é um tipo de User, aqui é o representante do cliente)
    class Representative <<Entity>> {
        RepresentativeId: Id
        RepresentativeName: Name
    }

    Client --> Id
    Client --> Name
    Client --> VAT
    Client --> Representative
    Representative --> Id
    Representative --> Name
    Client --> Address
}

package "Aggregate Drone" {

    ' Agregado Drone (Aggregate Root)
    class Drone <<AggregateRoot>> {
        DroneId: Id
        DroneSerialNumber: SerialNumber
        MaintenanceHistory: List<Maintenance>
        DroneModelId: Id
    }

    ' Entidade Maintenance associada ao drone
    class Maintenance <<Entity>> {
        MaintenanceId: Id
        MaintenanceStartDate: DateValue
        MaintenanceEndDate: DateValue
        Description: String
    }

    ' Value Objects
    class Id <<(V, #007fff) ValueObject>> {
        value: String
    }

    class SerialNumber <<(V, #007fff) ValueObject>> {
        value: String
    }

    class DateValue <<(V, #007fff) ValueObject>> {
        value: String
    }

    ' Ligações
    Drone --> Id
    Drone --> SerialNumber
    Drone --> Maintenance
    Maintenance --> Id
    Maintenance --> DateValue

}

package "Aggregate Show Proposal" {

    ' Agregado ShowProposal (Aggregate Root)
    class ShowProposal <<AggregateRoot>> {
        ProposalId: Id
        ClientId: Id
        ProposalDate: DateValue
        ProposalStatus: Status
        Figures: List<FigureId>
        SimulationResult: Report
    }

    ' Value Objects associados
    class Id <<(V, #007fff) ValueObject>> {
        value: String
    }

    class DateValue <<(V, #007fff) ValueObject>> {
        value: String
    }

    class Status <<(V, #007fff) ValueObject>> {
        value: String
    }

    class Report <<(V, #007fff) ValueObject>> {
        value: String
    }

    ' Ligações
    ShowProposal --> Id
    ShowProposal --> DateValue
    ShowProposal --> Status
    ShowProposal --> Report
}

package "Aggregate Show Request " {

    ' Agregado ShowRequest (Aggregate Root)
    class ShowRequest <<AggregateRoot>> {
        ShowRequestId: Id
        ClientId: Id
        Description: String
    }

    ' Value Objects associados
    class Id <<(V, #007fff) ValueObject>> {
        value: String
    }

    ' Ligações
    ShowRequest --> Id
}

package "Aggregate User" {

    ' Agregado User (Aggregate Root)
    class User <<AggregateRoot>> {
        UserId: Id
        Username: Username
        Password: Password
        Email: String
        Phone: String
    }

    ' Value Objects associados
    class Id <<(V, #007fff) ValueObject>> {
        value: String
    }

    class Username <<(V, #007fff) ValueObject>> {
        value: String
    }

    class Password <<(V, #007fff) ValueObject>> {
        value: String
    }

    ' Ligações
    User --> Id
    User --> Username
    User --> Password
}
















@enduml