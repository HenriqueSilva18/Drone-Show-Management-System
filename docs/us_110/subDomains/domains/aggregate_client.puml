@startuml
package "General Domain Model" {

    ' Client Aggregate
    package "Client Aggregate" {
        class Client <<AggregateRoot>> {}
        class ClientId <<ValueObject>> {}
        class ClientName <<ValueObject>> {}
        class ClientStatus <<ValueObject>> {}
        class Representative <<Entity>> {}
        class RepresentativeId <<ValueObject>> {}
        class UserId <<ValueObject>> {}

        Client --> ClientId
        Client --> ClientName
        Client --> ClientStatus
        Client "1" -- "*" Representative : has
        Representative --> RepresentativeId
        Representative --> UserId
    }

    ' Drone Inventory Aggregate
    package "Drone Inventory Aggregate" {
        class Drone <<AggregateRoot>> {}
        class DroneId <<ValueObject>> {}
        class DroneState <<ValueObject>> {}
        class DroneModelId <<ValueObject>> {}
        class Maintenance <<Entity>> {}
        class MaintenanceId <<ValueObject>> {}
        class DateValue <<ValueObject>> {}

        Drone --> DroneId
        Drone --> DroneState
        Drone --> DroneModelId
        Drone "1" -- "*" Maintenance : has
        Maintenance --> MaintenanceId
        Maintenance --> DateValue
    }

    ' Drone Model Aggregate
    package "Drone Model Aggregate" {
        class DroneModel <<AggregateRoot>> {}
        class DroneModelId <<ValueObject>> {}
        class ModelSpecifications <<ValueObject>> {}

        DroneModel --> DroneModelId
        DroneModel --> ModelSpecifications
    }

    ' Figure Aggregate
    package "Figure Aggregate" {
        class Figure <<AggregateRoot>> {}
        class FigureId <<ValueObject>> {}
        class Description <<ValueObject>> {}

        Figure --> FigureId
        Figure --> Description
    }

    ' Show Aggregate
    package "Show Aggregate" {
        class Show <<AggregateRoot>> {}
        class ShowId <<ValueObject>> {}
        class DateValue <<ValueObject>> {}
        class FigureId <<ValueObject>> {}
        class DroneId <<ValueObject>> {}

        Show --> ShowId
        Show --> DateValue
        Show --> FigureId
        Show --> DroneId
    }

    ' Show Proposal Aggregate
    package "Show Proposal Aggregate" {
        class ShowProposal <<AggregateRoot>> {}
        class ProposalId <<ValueObject>> {}
        class ShowId <<ValueObject>> {}
        class ClientId <<ValueObject>> {}
        class DateValue <<ValueObject>> {}
        class ProposalStatus <<ValueObject>> {}

        ShowProposal --> ProposalId
        ShowProposal --> ShowId
        ShowProposal --> ClientId
        ShowProposal --> DateValue
        ShowProposal --> ProposalStatus
    }

    ' Show Request Aggregate
    package "Show Request Aggregate" {
        class ShowRequest <<AggregateRoot>> {}
        class ShowRequestId <<ValueObject>> {}
        class ClientId <<ValueObject>> {}
        class DateValue <<ValueObject>> {}
        class Description <<ValueObject>> {}
        class RequestStatus <<ValueObject>> {}

        ShowRequest --> ShowRequestId
        ShowRequest --> ClientId
        ShowRequest --> DateValue
        ShowRequest --> Description
        ShowRequest --> RequestStatus
    }

    ' User Aggregate
    package "User Aggregate" {
        class User <<AggregateRoot>> {}
        class UserId <<ValueObject>> {}
        class Username <<ValueObject>> {}
        class Password <<ValueObject>> {}

        User --> UserId
        User --> Username
        User --> Password
    }

    ' Domain Services
    class SimulationService <<DomainService>> {}

    ' Relações entre agregados
    Client "1" <-- "*" ShowRequest : requestedBy
    Client "1" <-- "*" ShowProposal : proposedTo

    DroneModel "1" <-- "*" Drone : isModelOf

    Drone "*" <-- "*" Show : usedIn

    Figure "*" <-- "*" Show : composedBy

    Show "1" <-- "*" ShowProposal : proposedShow

    SimulationService --> Figure : simulates
}
@enduml
